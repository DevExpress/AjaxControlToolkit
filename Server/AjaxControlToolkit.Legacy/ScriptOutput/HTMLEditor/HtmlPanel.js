Type.registerNamespace("Sys.Extended.UI.HTMLEditor");Sys.Extended.UI.HTMLEditor.HtmlPanel=function(b){var a=this;Sys.Extended.UI.HTMLEditor.HtmlPanel.initializeBase(a,[b]);a._onfocus$delegate=Function.createDelegate(a,a._onfocus);if(Sys.Extended.UI.HTMLEditor.isIE&&document.compatMode!="BackCompat")a._onresize$delegate=Function.createDelegate(a,a._onresize)};Sys.Extended.UI.HTMLEditor.HtmlPanel.prototype={_activate:function(c){var a=this;a._shouldResize=false;var b=a.get_element();if(Sys.Extended.UI.HTMLEditor.isIE&&Sys.Browser.version>6&&document.compatMode!="BackCompat"&&b.parentNode.clientHeight>0)a._shouldResize=true;Sys.Extended.UI.HTMLEditor.HtmlPanel.callBaseMethod(a,"_activate");if(Sys.Extended.UI.HTMLEditor.isIE){b.value="";var d=a;setTimeout(function(){b.value=c},0)}else b.value=c;$addHandlers(b,{focus:a._onfocus$delegate});a._shouldResize&&$addHandlers(b,{resize:a._onresize$delegate});a._activateFinished()},_deactivate:function(){var a=this,b=a.get_element();a._shouldResize&&$common.removeHandlers(b,{resize:a._onresize$delegate});a._shouldResize=false;$common.removeHandlers(b,{focus:a._onfocus$delegate});b.value="";Sys.Extended.UI.HTMLEditor.HtmlPanel.callBaseMethod(a,"_deactivate")},_getContent:function(){return this.get_element().value},_setContent:function(b){this.get_element().value=b;if(Sys.Extended.UI.HTMLEditor.isReallyVisible(this.get_element().parentNode))try{var a=this.get_element();a.focus();setTimeout(function(){try{Sys.Extended.UI.HTMLEditor.setSelectionRange(a,0,0)}catch(b){}},0)}catch(c){}},_focus:function(){if(Sys.Extended.UI.HTMLEditor.isReallyVisible(this.get_element().parentNode))try{var a=this.get_element();a.focus();setTimeout(function(){try{Sys.Extended.UI.HTMLEditor.setSelectionRange(a,0,0)}catch(b){}},0)}catch(c){}var b=this;setTimeout(function(){b._focused()},0)},_onfocus:function(){this._really_focused();var a=this.get_element();setTimeout(function(){a.focus()},0);return true},_onresize:function(){var b=this.get_element(),a=b.parentNode.clientHeight;if(a>0)b.style.height=a+"px"}};Sys.Extended.UI.HTMLEditor.HtmlPanel.registerClass("Sys.Extended.UI.HTMLEditor.HtmlPanel",Sys.Extended.UI.HTMLEditor.ModePanel);