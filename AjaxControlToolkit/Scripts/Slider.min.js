Type.registerNamespace("Sys.Extended.UI"),Sys.Extended.UI._SliderDragDropManagerInternal=function(){Sys.Extended.UI._SliderDragDropManagerInternal.initializeBase(this),this._instance=null},Sys.Extended.UI._SliderDragDropManagerInternal.prototype={_getInstance:function(){return this._instance=new Sys.Extended.UI.GenericDragDropManager,this._instance.initialize(),this._instance.add_dragStart(Function.createDelegate(this,this._raiseDragStart)),this._instance.add_dragStop(Function.createDelegate(this,this._raiseDragStop)),this._instance}},Sys.Extended.UI._SliderDragDropManagerInternal.registerClass("Sys.Extended.UI._SliderDragDropManagerInternal",Sys.Extended.UI._DragDropManager),Sys.Extended.UI.SliderDragDropManagerInternal=new Sys.Extended.UI._SliderDragDropManagerInternal,Sys.Extended.UI.SliderOrientation=function(){},Sys.Extended.UI.SliderOrientation.prototype={Horizontal:0,Vertical:1},Sys.Extended.UI.SliderOrientation.registerEnum("Sys.Extended.UI.SliderOrientation",!1),Sys.Extended.UI.SliderBehavior=function(e){Sys.Extended.UI.SliderBehavior.initializeBase(this,[e]),this._minimum=0,this._maximum=100,this._value=null,this._steps=0,this._decimals=0,this._orientation=Sys.Extended.UI.SliderOrientation.Horizontal,this._railElement=null,this._railCssClass=null,this._isHorizontal=!0,this._isUpdatingInternal=!1,this._isInitializedInternal=!1,this._enableHandleAnimation=!1,this._handle=null,this._handleImage=null,this._handleAnimation=null,this._handleAnimationDuration=.1,this._handleImageUrl=null,this._handleCssClass=null,this._dragHandle=null,this._mouseupHandler=null,this._selectstartHandler=null,this._boundControlChangeHandler=null,this._boundControlKeyPressHandler=null,this._boundControlID=null,this._boundControl=null,this._length=null,this._raiseChangeOnlyOnMouseUp=!0,this._animationPending=!1,this._selectstartPending=!1,this._tooltipText="",this._enableKeyboard=!0,this._keyDownHandler=null},Sys.Extended.UI.SliderBehavior.prototype={initialize:function(){Sys.Extended.UI.SliderBehavior.callBaseMethod(this,"initialize"),this._initializeLayout()},dispose:function(){this._disposeHandlers(),this._disposeBoundControl(),this._enableHandleAnimation&&this._handleAnimation&&this._handleAnimation.dispose(),Sys.Extended.UI.SliderBehavior.callBaseMethod(this,"dispose")},_initializeLayout:function(){this._railElement=document.createElement("DIV"),this._railElement.id=this.get_id()+"_railElement",this._railElement.tabIndex=-1,this._railElement.innerHTML="<div></div>",this._handle=this._railElement.childNodes[0],this._handle.style.overflow="hidden",this._handle.style.position="absolute",Sys.Browser.agent==Sys.Browser.Opera&&(this._handle.style.left="0px",this._handle.style.top="0px");var e=this.get_element();$common.getBounds(e);e.parentNode.insertBefore(this._railElement,e),this._isHorizontal=this._orientation==Sys.Extended.UI.SliderOrientation.Horizontal;var t=this._isHorizontal?"ajax__slider_h_rail":"ajax__slider_v_rail",n=this._isHorizontal?"ajax__slider_h_handle":"ajax__slider_v_handle",i=this._isHorizontal?Sys.Extended.UI.Images["Slider.Handle-Horizontal.gif"]:Sys.Extended.UI.Images["Slider.Handle-Vertical.gif"];this._railElement.className=this._railCssClass?this._railCssClass:t,this._handle.className=this._handleCssClass?this._handleCssClass:n,this._handleImageUrl||(this._handleImageUrl=i),this._isHorizontal?this._length&&(this._railElement.style.width=this._length):this._length&&(this._railElement.style.height=this._length),this._loadHandleImage(),this._enforceTextBoxElementPositioning(),this._hideTextBoxElement(),this._initializeSlider()},_enforceTextBoxElementPositioning:function(){var e={position:this.get_element().style.position,top:this.get_element().style.top,right:this.get_element().style.right,bottom:this.get_element().style.bottom,left:this.get_element().style.left};""!=e.position&&(this._railElement.style.position=e.position),""!=e.top&&(this._railElement.style.top=e.top),""!=e.right&&(this._railElement.style.right=e.right),""!=e.bottom&&(this._railElement.style.bottom=e.bottom),""!=e.left&&(this._railElement.style.left=e.left)},_hideTextBoxElement:function(){var e=this.get_element();e.readOnly=!0;var t="0px";Sys.Browser.agent==Sys.Browser.Safari&&(t="1px"),e.style.width=t,e.style.height=t,e.style.border="0px",e.style.padding="0px",e.style.margin="0px",e.style.fontSize="1px",e.style.lineHeight="1px",e.style.outline="0",e.style.position="absolute"},_loadHandleImage:function(){this._handleImage=document.createElement("IMG"),this._handleImage.id=this.get_id()+"_handleImage",this._handle.appendChild(this._handleImage),this._handleImage.src=this._handleImageUrl},_initializeSlider:function(){this._initializeBoundControl();var e;try{e=parseFloat(this.get_element().value)}catch(t){e=Number.NaN}this.set_value(e),this._setHandleOffset(this._value),this._initializeDragHandle(),Sys.Extended.UI.SliderDragDropManagerInternal.registerDropTarget(this),this._initializeHandlers(),this._initializeHandleAnimation(),this._isInitializedInternal=!0,this._raiseEvent("sliderInitialized")},_initializeBoundControl:function(){if(this._boundControl){var e="INPUT"==this._boundControl.nodeName;e&&(this._boundControlChangeHandler=Function.createDelegate(this,this._onBoundControlChange),this._boundControlKeyPressHandler=Function.createDelegate(this,this._onBoundControlKeyPress),$addHandler(this._boundControl,"change",this._boundControlChangeHandler),$addHandler(this._boundControl,"keypress",this._boundControlKeyPressHandler))}},_disposeBoundControl:function(){if(this._boundControl){var e="INPUT"==this._boundControl.nodeName;e&&($removeHandler(this._boundControl,"change",this._boundControlChangeHandler),$removeHandler(this._boundControl,"keypress",this._boundControlKeyPressHandler))}},_onBoundControlChange:function(e){this._animationPending=!0,this._setValueFromBoundControl()},_onBoundControlKeyPress:function(e){13==e.charCode&&(this._animationPending=!0,this._setValueFromBoundControl(),e.preventDefault())},_setValueFromBoundControl:function(){this._isUpdatingInternal=!0,this._boundControlID&&this._calcValue($get(this._boundControlID).value),this._isUpdatingInternal=!1},_initializeHandleAnimation:function(){return this._steps>0?void(this._enableHandleAnimation=!1):void(this._enableHandleAnimation&&(this._handleAnimation=new Sys.Extended.UI.Animation.LengthAnimation(this._handle,this._handleAnimationDuration,100,"style")))},_ensureBinding:function(){if(this._boundControl){var e=this._value;if(e>=this._minimum||e<=this._maximum){var t="INPUT"==this._boundControl.nodeName;t?this._boundControl.value=e:this._boundControl&&(this._boundControl.innerHTML=e)}}},_getBoundsInternal:function(e){function t(){return n.width>0&&n.height>0}var n=$common.getBounds(e);if(!t()&&(n.width=parseInt($common.getCurrentStyle(e,"width")),n.height=parseInt($common.getCurrentStyle(e,"height")),!t())){var i=e.cloneNode(!0);if(i.visibility="hidden",document.body.appendChild(i),n.width=parseInt($common.getCurrentStyle(i,"width")),n.height=parseInt($common.getCurrentStyle(i,"height")),document.body.removeChild(i),!t())throw Error.argument("element size",Sys.Extended.UI.Resources.Slider_NoSizeProvided)}return this._orientation==Sys.Extended.UI.SliderOrientation.Vertical&&(n={x:n.y,y:n.x,height:n.width,width:n.height,right:n.right,bottom:n.bottom,location:{x:n.y,y:n.x},size:{width:n.height,height:n.width}}),n},_getRailBounds:function(){var e=this._getBoundsInternal(this._railElement);return e},_getHandleBounds:function(){return this._getBoundsInternal(this._handle)},_initializeDragHandle:function(){var e=this._dragHandle=document.createElement("DIV");e.style.position="absolute",e.style.width="1px",e.style.height="1px",e.style.overflow="hidden",e.style.zIndex=Sys.Extended.UI.zIndex.SliderDragHandle,e.style.background="none",document.body.appendChild(this._dragHandle)},_resetDragHandle:function(){var e=$common.getBounds(this._handle);$common.setLocation(this._dragHandle,{x:e.x,y:e.y})},_initializeHandlers:function(){this._selectstartHandler=Function.createDelegate(this,this._onSelectStart),this._mouseupHandler=Function.createDelegate(this,this._onMouseUp),this._keyDownHandler=Function.createDelegate(this,this._onKeyDown),$addHandler(document,"mouseup",this._mouseupHandler),$addHandler(this.get_element(),"keydown",this._keyDownHandler),$addHandlers(this._handle,{mousedown:this._onMouseDown,dragstart:this._IEDragDropHandler,drag:this._IEDragDropHandler,dragend:this._IEDragDropHandler},this),$addHandlers(this._railElement,{click:this._onRailClick},this)},_disposeHandlers:function(){$clearHandlers(this._handle),$clearHandlers(this._railElement),$removeHandler(this.get_element(),"keydown",this._keyDownHandler),$removeHandler(document,"mouseup",this._mouseupHandler),this._keyDownHandler=null,this._mouseupHandler=null,this._selectstartHandler=null},startDragDrop:function(e){this._resetDragHandle(),Sys.Extended.UI.SliderDragDropManagerInternal.startDragDrop(this,e,null)},_onMouseDown:function(e){window._event=e,e.preventDefault(),Sys.Extended.UI.SliderBehavior.DropPending||(Sys.Extended.UI.SliderBehavior.DropPending=this,$addHandler(document,"selectstart",this._selectstartHandler),this._selectstartPending=!0,this.startDragDrop(this._dragHandle))},_onMouseUp:function(e){e.target;Sys.Extended.UI.SliderBehavior.DropPending==this&&(Sys.Extended.UI.SliderBehavior.DropPending=null,this._selectstartPending&&$removeHandler(document,"selectstart",this._selectstartHandler))},_onKeyDown:function(e){if(this._enableKeyboard){var t=new Sys.UI.DomEvent(e);switch(t.keyCode||t.rawEvent.keyCode){case Sys.UI.Key.up:case Sys.UI.Key.left:return this._handleSlide(!0),void t.preventDefault();case Sys.UI.Key.down:case Sys.UI.Key.right:return this._handleSlide(!1),t.preventDefault(),!1;default:return!1}}},_handleSlide:function(e){this._animationPending=!0,this._isUpdatingInternal=!0;var t,n=this.get_value();if(this._steps>0){var i=this._maximum-this._minimum,s=(i/(this._steps-1)).toFixed(this._decimals);t=s}else t=0==this._decimals?1:1/Math.pow(10,this._decimals);e&&(t=0-t),this._calcValue(parseFloat(n)+parseFloat(t)),this._isUpdatingInternal=!1,this._fireTextBoxChangeEvent()},_onRailClick:function(e){e.target==this._railElement&&(this._animationPending=!0,this._onRailClicked(e))},_IEDragDropHandler:function(e){e.preventDefault()},_onSelectStart:function(e){e.preventDefault()},_calcValue:function(e,t){var n;if(null!=e){if(!Number.isInstanceOfType(e))try{e=parseFloat(e)}catch(t){e=Number.NaN}isNaN(e)&&(e=this._minimum),n=e<this._minimum?this._minimum:e>this._maximum?this._maximum:e}else{var i=this._minimum,s=this._maximum,a=this._getHandleBounds(),l=this._getRailBounds(),o=t?t-a.width/2:a.x-l.x,r=l.width-a.width,d=o/r;n=0==o?i:o==l.width-a.width?s:i+d*(s-i)}return this._steps>0&&(n=this._getNearestStepValue(n)),n=n<this._minimum?this._minimum:n>this._maximum?this._maximum:n,this._isUpdatingInternal=!0,this.set_value(n),this._isUpdatingInternal=!1,n},_setHandleOffset:function(e,t){var n=this._minimum,i=this._maximum,s=this._getHandleBounds(),a=this._getRailBounds(),l=i-n,o=(e-n)/l,r=Math.round(o*(a.width-s.width)),d=e==n?0:e==i?a.width-s.width:r;t?(this._handleAnimation.set_startValue(s.x-a.x),this._handleAnimation.set_endValue(d),this._handleAnimation.set_propertyKey(this._isHorizontal?"left":"top"),this._handleAnimation.play(),this._animationPending=!1):this._isHorizontal?this._handle.style.left=d+"px":this._handle.style.top=d+"px"},_getNearestStepValue:function(e){if(0==this._steps)return e;var t=this._maximum-this._minimum;if(0==t)return e;var n=t/(this._steps-1);return Math.round(e/n)*n},_onHandleReleased:function(){this._raiseChangeOnlyOnMouseUp&&this._fireTextBoxChangeEvent(),this._raiseEvent("slideEnd")},_onRailClicked:function(e){var t=this._getHandleBounds(),n=this._getRailBounds(),i=this._isHorizontal?e.offsetX:e.offsetY,s=t.width/2,a=n.width-s;i=i<s?s:i>a?a:i,this._calcValue(null,i,!0),this._fireTextBoxChangeEvent()},_fireTextBoxChangeEvent:function(){if(document.createEvent){var e=document.createEvent("HTMLEvents");e.initEvent("change",!0,!1),this.get_element().dispatchEvent(e)}else document.createEventObject&&this.get_element().fireEvent("onchange")},get_dragDataType:function(){return"HTML"},getDragData:function(){return this._handle},get_dragMode:function(){return Sys.Extended.UI.DragMode.Move},onDragStart:function(){this._resetDragHandle(),this._raiseEvent("slideStart")},onDrag:function(){var e,t=this._getBoundsInternal(this._dragHandle),n=this._getRailBounds();e=this._isHorizontal?{x:t.x-n.x,y:0}:{y:t.x-n.x,x:0},$common.setLocation(this._handle,e),this._calcValue(null,null),this._steps>1&&this._setHandleOffset(this.get_value(),!1)},onDragEnd:function(){this._onHandleReleased()},get_dropTargetElement:function(){return document.body},canDrop:function(e,t){return"HTML"==t},drop:Function.emptyMethod,onDragEnterTarget:Function.emptyMethod,onDragLeaveTarget:Function.emptyMethod,onDragInTarget:Function.emptyMethod,add_sliderInitialized:function(e){this.get_events().addHandler("sliderInitialized",e)},remove_sliderInitialized:function(e){this.get_events().removeHandler("sliderInitialized",e)},add_valueChanged:function(e){this.get_events().addHandler("valueChanged",e)},remove_valueChanged:function(e){this.get_events().removeHandler("valueChanged",e)},add_slideStart:function(e){this.get_events().addHandler("slideStart",e)},remove_slideStart:function(e){this.get_events().removeHandler("slideStart",e)},add_slideEnd:function(e){this.get_events().addHandler("slideEnd",e)},remove_slideEnd:function(e){this.get_events().removeHandler("slideEnd",e)},_raiseEvent:function(e,t){var n=this.get_events().getHandler(e);n&&(t||(t=Sys.EventArgs.Empty),n(this,t))},get_value:function(){return this._value},set_value:function(e){var t=this._value,n=e;if(this._isUpdatingInternal||(n=this._calcValue(e)),this.get_element().value=this._value=n.toFixed(this._decimals),this._ensureBinding(),!Number.isInstanceOfType(this._value))try{this._value=parseFloat(this._value)}catch(e){this._value=Number.NaN}this._tooltipText&&(this._handle.alt=this._handle.title=String.format(this._tooltipText,this._value)),this._isInitializedInternal&&(this._setHandleOffset(n,this._enableHandleAnimation&&this._animationPending),this._isUpdatingInternal&&(this._raiseChangeOnlyOnMouseUp||this._fireTextBoxChangeEvent()),this._value!=t&&this._raiseEvent("valueChanged"))},get_Value:function(){return Sys.Extended.Deprecated("get_Value()","get_value()"),this.get_value()},set_Value:function(e){Sys.Extended.Deprecated("set_Value(value)","set_value(value)"),this.set_value(e)},get_railCssClass:function(){return this._railCssClass},set_railCssClass:function(e){this._railCssClass=e},get_RailCssClass:function(){return Sys.Extended.Deprecated("get_RailCssClass()","get_railCssClass()"),this.get_railCssClass()},set_RailCssClass:function(e){Sys.Extended.Deprecated("set_RailCssClass(value)","set_railCssClass(value)"),this.set_railCssClass(e)},get_handleImageUrl:function(){return this._handleImageUrl},set_handleImageUrl:function(e){this._handleImageUrl=e},get_HandleImageUrl:function(){return Sys.Extended.Deprecated("get_HandleImageUrl()","get_handleImageUrl()"),this.get_handleImageUrl()},set_HandleImageUrl:function(e){Sys.Extended.Deprecated("set_HandleImageUrl(value)","set_handleImageUrl(value)"),this.set_handleImageUrl(e)},get_handleCssClass:function(){return this._handleCssClass},set_handleCssClass:function(e){this._handleCssClass=e},get_HandleCssClass:function(){return Sys.Extended.Deprecated("get_HandleCssClass()","get_handleCssClass()"),this.get_handleCssClass()},set_HandleCssClass:function(e){Sys.Extended.Deprecated("set_HandleCssClass(value)","set_handleCssClass(value)"),this.set_handleCssClass(e)},get_minimum:function(){return this._minimum},set_minimum:function(e){this._minimum=e},get_Minimum:function(){return Sys.Extended.Deprecated("get_Minimum()","get_minimum()"),this.get_minimum()},set_Minimum:function(e){Sys.Extended.Deprecated("set_Minimum(value)","set_minimum(value)"),this.set_minimum(e)},get_maximum:function(){return this._maximum},set_maximum:function(e){this._maximum=e},get_Maximum:function(){return Sys.Extended.Deprecated("get_Maximum()","get_maximum()"),this.get_maximum()},set_Maximum:function(e){Sys.Extended.Deprecated("set_Maximum(value)","set_maximum(value)"),this.set_maximum(e)},get_orientation:function(){return this._orientation},set_orientation:function(e){this._orientation=e},get_Orientation:function(){return Sys.Extended.Deprecated("get_Orientation()","get_orientation()"),this.get_orientation()},set_Orientation:function(e){Sys.Extended.Deprecated("set_Orientation(value)","set_orientation(value)"),this.set_orientation(e)},get_steps:function(){return this._steps},set_steps:function(e){this._steps=Math.abs(e),this._steps=1==this._steps?2:this._steps},get_Steps:function(){return Sys.Extended.Deprecated("get_Steps()","get_steps()"),this.get_steps()},set_Steps:function(e){Sys.Extended.Deprecated("set_Steps(value)","set_steps(value)"),this.set_steps(e)},get_decimals:function(){return this._decimals},set_decimals:function(e){this._decimals=Math.abs(e)},get_Decimals:function(){return Sys.Extended.Deprecated("get_Decimals()","get_decimals()"),this.get_decimals()},set_Decimals:function(e){Sys.Extended.Deprecated("set_Decimals(value)","set_decimals(value)"),this.set_decimals(e)},get_enableHandleAnimation:function(){return this._enableHandleAnimation},set_enableHandleAnimation:function(e){this._enableHandleAnimation=e},get_EnableHandleAnimation:function(){return Sys.Extended.Deprecated("get_EnableHandleAnimation()","get_enableHandleAnimation()"),this.get_enableHandleAnimation()},set_EnableHandleAnimation:function(e){Sys.Extended.Deprecated("set_EnableHandleAnimation(value)","set_enableHandleAnimation(value)"),this.set_enableHandleAnimation(e)},get_handleAnimationDuration:function(){return this._handleAnimationDuration},set_handleAnimationDuration:function(e){this._handleAnimationDuration=e},get_HandleAnimationDuration:function(){return Sys.Extended.Deprecated("get_HandleAnimationDuration()","get_handleAnimationDuration()"),this.get_handleAnimationDuration()},set_HandleAnimationDuration:function(e){Sys.Extended.Deprecated("set_HandleAnimationDuration(value)","set_handleAnimationDuration(value)"),this.set_handleAnimationDuration(e)},get_boundControlID:function(){return this._boundControlID},set_boundControlID:function(e){this._boundControlID=e,this._boundControlID?this._boundControl=$get(this._boundControlID):this._boundControl=null},get_BoundControlID:function(){return Sys.Extended.Deprecated("get_BoundControlID()","get_boundControlID()"),this.get_boundControlID()},set_BoundControlID:function(e){Sys.Extended.Deprecated("set_BoundControlID(value)","set_boundControlID(value)"),this.set_boundControlID(e)},get_length:function(){return this._length},set_length:function(e){this._length=e+"px"},get_Length:function(){return Sys.Extended.Deprecated("get_Length()","get_length()"),this.get_length()},set_Length:function(e){Sys.Extended.Deprecated("set_Length(value)","set_length(value)"),this.set_length(e)},isSliderInitialized:function(){return this._isInitializedInternal},get_SliderInitialized:function(){return Sys.Extended.Deprecated("get_SliderInitialized()","isSliderInitialized()"),this.isSliderInitialized()},get_raiseChangeOnlyOnMouseUp:function(){return this._raiseChangeOnlyOnMouseUp},set_raiseChangeOnlyOnMouseUp:function(e){this._raiseChangeOnlyOnMouseUp=e},get_RaiseChangeOnlyOnMouseUp:function(){return Sys.Extended.Deprecated("get_RaiseChangeOnlyOnMouseUp()","get_raiseChangeOnlyOnMouseUp()"),this.get_raiseChangeOnlyOnMouseUp()},set_RaiseChangeOnlyOnMouseUp:function(e){Sys.Extended.Deprecated("set_RaiseChangeOnlyOnMouseUp(value)","set_raiseChangeOnlyOnMouseUp(value)"),this.set_raiseChangeOnlyOnMouseUp(e)},get_tooltipText:function(){return this._tooltipText},set_tooltipText:function(e){this._tooltipText=e},get_TooltipText:function(){return Sys.Extended.Deprecated("get_TooltipText()","get_tooltipText()"),this.get_tooltipText()},set_TooltipText:function(e){Sys.Extended.Deprecated("set_TooltipText(value)","set_tooltipText(value)"),this.set_tooltipText(e)},get_enableKeyboard:function(){return this._enableKeyboard},set_enableKeyboard:function(e){e!==this._enableKeyboard&&(this._enableKeyboard=e,this.raisePropertyChanged("enableKeyboard"))},get_clientState:function(){var e=Sys.Extended.UI.SliderBehavior.callBaseMethod(this,"get_ClientState");return""==e&&(e=null),e},set_clientState:function(e){return Sys.Extended.UI.SliderBehavior.callBaseMethod(this,"set_ClientState",[e])},getClientState:function(){return Sys.Extended.Deprecated("getClientState()","get_clientState()"),this.get_clientState()},setClientState:function(e){return Sys.Extended.Deprecated("setClientState(value)","set_clientState(value)"),this.set_clientState(e)}},Sys.Extended.UI.SliderBehavior.DropPending=null,Sys.Extended.UI.SliderBehavior.registerClass("Sys.Extended.UI.SliderBehavior",Sys.Extended.UI.BehaviorBase,Sys.Extended.UI.IDragSource,Sys.Extended.UI.IDropTarget);