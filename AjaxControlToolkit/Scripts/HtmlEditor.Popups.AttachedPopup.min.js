Type.registerNamespace("Sys.Extended.UI.HtmlEditor.Popups"),Sys.Extended.UI.HtmlEditor.Popups.AttachedPopup=function(t){Sys.Extended.UI.HtmlEditor.Popups.AttachedPopup.initializeBase(this,[t]),this._relatedElement=null},Sys.Extended.UI.HtmlEditor.Popups.AttachedPopup.prototype={get_relatedElement:function(){return this._relatedElement},set_relatedElement:function(t){this._relatedElement=t},open:function(t){if(null!=this._relatedElement){var e=this;if(!this.checkCorrectLoaded(function(){e.open(t)}))return;for(var o=$common.getLocation(this._relatedElement),i=o.x,s=o.y+this._relatedElement.offsetHeight,d=this.get_element().parentNode;d&&d.tagName&&"BODY"!=d.tagName.toUpperCase();){var l=Sys.Extended.UI.HtmlEditor.getStyle(d,"position");if("absolute"==l||"fixed"==l){var n=parseInt(Sys.Extended.UI.HtmlEditor.getStyle(d,"top")),p=parseInt(Sys.Extended.UI.HtmlEditor.getStyle(d,"left"));isNaN(n)||isNaN(p)||(i-=p,s-=n);break}if("relative"==l){var a=$common.getLocation(d);i-=a.x,s-=a.y}d=d.parentNode}var r=Sys.Extended.UI.HtmlEditor.getClientViewportElement(this._iframe),h=r.clientWidth+r.scrollLeft,c=r.clientHeight+r.scrollTop;s<r.scrollTop&&(s=r.scrollTop),i<r.scrollLeft&&(i=r.scrollLeft),s+this._iframe.offsetHeight>c&&(s-=s+this._iframe.offsetHeight-c),i+this._iframe.offsetWidth>h&&(i-=i+this._iframe.offsetWidth-h),Sys.Extended.UI.HtmlEditor.Popups.AttachedPopup.callBaseMethod(this,"open",[t,s,i])}},close:function(t){Sys.Extended.UI.HtmlEditor.Popups.AttachedPopup.callBaseMethod(this,"close",[t])},initialize:function(){Sys.Extended.UI.HtmlEditor.Popups.AttachedPopup.callBaseMethod(this,"initialize")},dispose:function(){Sys.Extended.UI.HtmlEditor.Popups.AttachedPopup.callBaseMethod(this,"dispose")}},Sys.Extended.UI.HtmlEditor.Popups.AttachedPopup.registerClass("Sys.Extended.UI.HtmlEditor.Popups.AttachedPopup",Sys.Extended.UI.HtmlEditor.Popups.Popup);