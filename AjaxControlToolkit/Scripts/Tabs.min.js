Type.registerNamespace("Sys.Extended.UI"),Sys.Extended.UI.TabCssTheme=function(){},Sys.Extended.UI.TabCssTheme.prototype={None:0,XP:1,Plain:2},Sys.Extended.UI.TabCssTheme.registerEnum("Sys.Extended.UI.TabCssTheme",!0),Sys.Extended.UI.TabStripPlacement=function(){},Sys.Extended.UI.TabStripPlacement.prototype={Top:0,Bottom:1,TopRight:2,BottomRight:3},Sys.Extended.UI.TabStripPlacement.registerEnum("Sys.Extended.UI.TabStripPlacement",!0),Sys.Extended.UI.UseVerticalStripPlacement=function(){},Sys.Extended.UI.OnDemand=function(){},Sys.Extended.UI.OnDemandMode=function(){},Sys.Extended.UI.OnDemandMode.prototype={None:0,Always:1,Once:2},Sys.Extended.UI.OnDemandMode.registerEnum("Sys.Extended.UI.OnDemandMode",!0),Sys.Extended.UI.TabContainer=function(e){Sys.Extended.UI.TabContainer.initializeBase(this,[e]),this._cachedActiveTabIndex=-1,this._activeTabIndex=-1,this._scrollBars=Sys.Extended.UI.ScrollBars.None,this._tabs=null,this._cssTheme=Sys.Extended.UI.TabCssTheme.XP,this._header=null,this._body=null,this._loaded=!1,this._autoPostBackId=null,this._useVerticalStripPlacement=!1,this._onDemand=!1,this._pageRequestManager=null,this._tabStripPlacement=Sys.Extended.UI.TabStripPlacement.Top,this._app_onload$delegate=Function.createDelegate(this,this._app_onload)},Sys.Extended.UI.TabContainer.prototype={add_activeTabChanged:function(e){this.get_events().addHandler("activeTabChanged",e)},remove_activeTabChanged:function(e){this.get_events().removeHandler("activeTabChanged",e)},raise_activeTabChanged:function(){var e=this.get_events().getHandler("activeTabChanged");e&&e(this,Sys.EventArgs.Empty),this._autoPostBackId&&__doPostBack(this._autoPostBackId,"activeTabChanged:"+this.get_activeTabIndex())},raiseActiveTabChanged:function(){Sys.Extended.Deprecated("raiseActiveTabChanged()","raise_activeTabChanged()"),this.raise_activeTabChanged()},get_activeTabIndex:function(){return this._cachedActiveTabIndex>-1?this._cachedActiveTabIndex:this._activeTabIndex},set_activeTabIndex:function(e){var t=e;if(this.get_isInitialized()){if(t<-1)throw Error.argumentOutOfRange("value");if(t>=this.get_tabs().length&&(t=this.get_tabs().length-1),t!=this._activeTabIndex){if(this._activeTabIndex!=-1){var a=this.get_tabs()[this._activeTabIndex];a._set_active(!1)}var i=this._activeTabIndex!=t;if(this._activeTabIndex=t,this._activeTabIndex!=-1&&this.get_tabs()[this._activeTabIndex]._set_active(!0),this._loaded&&i){if(this._onDemand){var n=this.get_tabs()[this._activeTabIndex];n._onDemandMode!=Sys.Extended.UI.OnDemandMode.None&&(n._onDemandMode==Sys.Extended.UI.OnDemandMode.Once&&0==n._wasLoadedOnce||n._onDemandMode==Sys.Extended.UI.OnDemandMode.Always)&&(this._pageRequestManager.beginAsyncPostBack([n._updatePanelID],null,null,!1,null),n.set_wasLoadedOnce(!0))}this.raise_activeTabChanged()}this.raisePropertyChanged("activeTabIndex")}}else this._cachedActiveTabIndex=t},get_tabs:function(){return null==this._tabs&&(this._tabs=[]),this._tabs},get_activeTab:function(){return this._activeTabIndex>-1?this.get_tabs()[this._activeTabIndex]:null},set_activeTab:function(e){var t=Array.indexOf(this.get_tabs(),e);if(t==-1)throw Error.argument("value",Sys.Extended.UI.Resources.Tabs_ActiveTabArgumentOutOfRange);this.set_activeTabIndex(t)},get_autoPostBackId:function(){return this._autoPostBackId},set_autoPostBackId:function(e){this._autoPostBackId=e},get_scrollBars:function(){return this._scrollBars},set_scrollBars:function(e){this._scrollBars!=e&&(this._scrollBars=e,this._invalidate(),this.raisePropertyChanged("scrollBars"))},get_tabStripPlacement:function(){return this._tabStripPlacement},set_tabStripPlacement:function(e){this._tabStripPlacement!=e&&(this._tabStripPlacement=e,this._invalidate(),this.raisePropertyChanged("tabStripPlacement"))},get_useVerticalStripPlacement:function(){return this._useVerticalStripPlacement},set_useVerticalStripPlacement:function(e){this._useVerticalStripPlacement!=e&&(this._useVerticalStripPlacement=e,this._invalidate(),this.raisePropertyChanged("useVerticalStripPlacement"))},get_onDemand:function(){return this._onDemand},set_onDemand:function(e){this._onDemand!=e&&(this._onDemand=e,this._invalidate(),this.raisePropertyChanged("onDemand"))},initialize:function(){Sys.Extended.UI.TabContainer.callBaseMethod(this,"initialize");var e=this.get_element();this._header=$get(this.get_id()+"_header"),this._body=$get(this.get_id()+"_body"),$common.addCssClasses(e,[this._getCssThemeClass(this.get_cssTheme()),"ajax__tab_container","ajax__tab_default"]),this._invalidate(),this._onDemand&&(this._pageRequestManager=Sys.WebForms.PageRequestManager.getInstance()),Sys.Application.add_load(this._app_onload$delegate)},dispose:function(){$clearHandlers(this.get_element()),Sys.Application.remove_load(this._app_onload$delegate),Sys.Extended.UI.TabContainer.callBaseMethod(this,"dispose")},get_cssTheme:function(){return this._cssTheme},set_cssTheme:function(e){this._cssTheme=e},_getCssThemeClass:function(e){switch(e){case Sys.Extended.UI.TabCssTheme.None:return"";case Sys.Extended.UI.TabCssTheme.XP:return"ajax__tab_xp";case Sys.Extended.UI.TabCssTheme.Plain:return"ajax__tab_plain";default:throw Error.argument("theme",String.format(Sys.Extended.UI.Resources.Tabs_UnknownTheme,type.getName()))}},getFirstTab:function(e){for(var t=this.get_tabs(),a=0;a<t.length;a++)if(e||t[a].get_enabled())return t[a];return null},getLastTab:function(e){for(var t=this.get_tabs(),a=t.length-1;a>=0;a--)if(e||t[a].get_enabled())return t[a];return null},getNextTab:function(e){for(var t=this.get_tabs(),a=this.get_activeTabIndex(),i=1;i<t.length;i++){var n=(a+i)%t.length,s=t[n];if(e||s.get_enabled())return s}return null},getPreviousTab:function(e){for(var t=this.get_tabs(),a=this.get_activeTabIndex(),i=1;i<t.length;i++){var n=(t.length+(a-i))%t.length,s=t[n];if(e||s.get_enabled())return s}return null},getNearestTab:function(e){var t=this.getPreviousTab(e),a=this.getNextTab(e);return t&&t.get_tabIndex()<this._activeTabIndex?t:a&&a.get_tabIndex()>this._activeTabIndex?a:null},saveClientState:function(){for(var e=this.get_tabs(),t=[],a=[],i=0;i<e.length;i++)Array.add(t,e[i].get_enabled()),Array.add(a,e[i].get_wasLoadedOnce());var n={ActiveTabIndex:this._activeTabIndex,TabEnabledState:t,TabWasLoadedOnceState:a};return Sys.Serialization.JavaScriptSerializer.serialize(n)},_invalidate:function(){if(this.get_isInitialized()){switch($common.removeCssClasses(this._body,["ajax__scroll_horiz","ajax__scroll_vert","ajax__scroll_both","ajax__scroll_auto","ajax__scroll_none"]),this._scrollBars){case Sys.Extended.UI.ScrollBars.Horizontal:Sys.UI.DomElement.addCssClass(this._body,"ajax__scroll_horiz");break;case Sys.Extended.UI.ScrollBars.Vertical:Sys.UI.DomElement.addCssClass(this._body,"ajax__scroll_vert");break;case Sys.Extended.UI.ScrollBars.Both:Sys.UI.DomElement.addCssClass(this._body,"ajax__scroll_both");break;case Sys.Extended.UI.ScrollBars.Auto:Sys.UI.DomElement.addCssClass(this._body,"ajax__scroll_auto");break;case Sys.Extended.UI.ScrollBars.None:Sys.UI.DomElement.addCssClass(this._body,"ajax__scroll_none")}if(this._useVerticalStripPlacement){var e=$common.getBounds(this._header),t=$common.getBounds(this._body),a=t.height-e.height-1+"px";if($get(this.get_id()+"_headerSpannerHeight").style.height=a,Sys.Browser.agent==Sys.Browser.InternetExplorer&&Sys.Browser.version<7)if(this._tabStripPlacement==Sys.Extended.UI.TabStripPlacement.Top||this._tabStripPlacement==Sys.Extended.UI.TabStripPlacement.Bottom){var i={x:e.x+e.width,y:e.y,width:t.width,height:t.height};$common.setBounds(this._body,i)}else{var i={x:t.x+t.width,y:e.y,width:e.width,height:e.height};$common.setBounds(this._header,i),$common.setBounds(this._body,t)}}}},_app_onload:function(e,t){if(this._cachedActiveTabIndex!=-1){this.set_activeTabIndex(this._cachedActiveTabIndex),this._cachedActiveTabIndex=-1;var a=this.get_tabs()[this._activeTabIndex];a&&a.set_wasLoadedOnce(!0)}this._loaded=!0}},Sys.Extended.UI.TabContainer.registerClass("Sys.Extended.UI.TabContainer",Sys.Extended.UI.ControlBase),Sys.Extended.UI.TabPanel=function(e){Sys.Extended.UI.TabPanel.initializeBase(this,[e]),this._active=!1,this._tab=null,this._headerOuter=null,this._headerInner=null,this._header=null,this._owner=null,this._ownerID=null,this._enabled=!0,this._tabIndex=-1,this._dynamicContextKey=null,this._dynamicServicePath=null,this._dynamicServiceMethod=null,this._dynamicPopulateBehavior=null,this._scrollBars=Sys.Extended.UI.ScrollBars.None,this._onDemandMode=Sys.Extended.UI.OnDemandMode.Always,this._wasLoadedOnce=!1,this._updatePanelID="",this.isAttachedDisabledEvents=!1,this.isAttachedEnabledEvents=!1,this._dynamicPopulate_onpopulated$delegate=Function.createDelegate(this,this._dynamicPopulate_onpopulated),_oncancel$delegate=Function.createDelegate(this,this._oncancel),this._headerEventHandlers={mousedown:Function.createDelegate(this,this._header_onmousedown),dragstart:_oncancel$delegate,selectstart:_oncancel$delegate,select:_oncancel$delegate},this._enabledHeaderEventHandlers={click:Function.createDelegate(this,this._header_onclick),mouseover:Function.createDelegate(this,this._header_onmouseover),mouseout:Function.createDelegate(this,this._header_onmouseout),keydown:Function.createDelegate(this,this._onkeydown)}},Sys.Extended.UI.TabPanel.prototype={add_click:function(e){this.get_events().addHandler("click",e)},remove_click:function(e){this.get_events().removeHandler("click",e)},raise_click:function(){var e=this.get_events().getHandler("click");e&&e(this,Sys.EventArgs.Empty)},raiseClick:function(){Sys.Extended.Deprecated("raiseClick()","raise_click()"),this.raise_click()},add_populating:function(e){this.get_events().addHandler("populating",e)},remove_populating:function(e){this.get_events().removeHandler("populating",e)},raise_populating:function(){var e=this.get_events().getHandler("populating");e&&e(this,Sys.EventArgs.Empty)},raisePopulating:function(){Sys.Extended.Deprecated("raisePopulating()","raise_populating()"),this.raise_populating()},add_populated:function(e){this.get_events().addHandler("populated",e)},remove_populated:function(e){this.get_events().removeHandler("populated",e)},raise_populated:function(){var e=this.get_events().getHandler("populated");e&&e(this,Sys.EventArgs.Empty)},raisePopulated:function(){Sys.Extended.Deprecated("raisePopulated()","raise_populated()"),this.raise_populated()},get_headerText:function(){return this.get_isInitialized()?this._header.innerHTML:""},set_headerText:function(e){if(!this.get_isInitialized())throw Error.invalidOperation(String.format(Sys.Extended.UI.Resources.Tabs_PropertySetBeforeInitialization,"headerText"));this.get_headerText()!=e&&(this._header.innerHTML=e,this.raisePropertyChanged("headerText"))},get_headerTab:function(){return this._header},set_headerTab:function(e){if("string"==typeof e&&(e=Sys.get(e),!e))throw new Error.argumentNull("value");if(this._header!=e){if(this.get_isInitialized())throw Error.invalidOperation(String.format(Sys.Extended.UI.Resources.Tabs_PropertySetAfterInitialization,"headerTab"));this._header=e,this.raisePropertyChanged("value")}},get_enabled:function(){return this._enabled},set_enabled:function(e){e!=this._enabled&&(this._enabled=e,this.get_isInitialized()&&this._makeEnabled(this._enabled),this.raisePropertyChanged("enabled"))},get_owner:function(){return this._owner},set_owner:function(e){if(e instanceof Sys.ComponentSet&&(e=e.get(0)),this._owner!=e){if(this.get_isInitialized())throw Error.invalidOperation(String.format(Sys.Extended.UI.Resources.Tabs_PropertySetAfterInitialization,"owner"));this._owner=e,this.raisePropertyChanged("owner")}},get_ownerID:function(){return this._ownerID},set_ownerID:function(e){this._ownerID=e},get_scrollBars:function(){return this._scrollBars},set_scrollBars:function(e){this._scrollBars!=e&&(this._scrollBars=e,this.raisePropertyChanged("scrollBars"))},get_onDemandMode:function(){return this._onDemandMode},set_onDemandMode:function(e){this._onDemandMode!=e&&(this._onDemandMode=e,this.raisePropertyChanged("onDemandMode"))},get_tabIndex:function(){return this._tabIndex},get_dynamicContextKey:function(){return this._dynamicContextKey},set_dynamicContextKey:function(e){this._dynamicContextKey!=e&&(this._dynamicContextKey=e,this.raisePropertyChanged("dynamicContextKey"))},get_dynamicServicePath:function(){return this._dynamicServicePath},set_dynamicServicePath:function(e){this._dynamicServicePath!=e&&(this._dynamicServicePath=e,this.raisePropertyChanged("dynamicServicePath"))},get_dynamicServiceMethod:function(){return this._dynamicServiceMethod},set_dynamicServiceMethod:function(e){this._dynamicServiceMethod!=e&&(this._dynamicServiceMethod=e,this.raisePropertyChanged("dynamicServiceMethod"))},_get_active:function(){return this._active},_set_active:function(e){this._active=e,e?this._activate():this._deactivate()},get_updatePanelID:function(){return this._updatePanelID},set_updatePanelID:function(e){this._updatePanelID!=e&&(this._updatePanelID=e,this.raisePropertyChanged("updatePanelID"))},get_wasLoadedOnce:function(){return this._wasLoadedOnce},set_wasLoadedOnce:function(e){e!=this._wasLoadedOnce&&(this._wasLoadedOnce=e,this.raisePropertyChanged("wasLoadedOnce"))},initialize:function(){var e=this.get_owner();if(e||(e=$find(this.get_ownerID()),e&&(e.initialize(),this.set_owner(e))),Sys.Extended.UI.TabPanel.callBaseMethod(this,"initialize"),!e)throw Error.invalidOperation(Sys.Extended.UI.Resources.Tabs_OwnerExpected);this._tabIndex=e.get_tabs().length,Array.add(e.get_tabs(),this);var t=this.get_id()+"_tab";this._tab=document.getElementById(t),this._makeEnabled(this._enabled),$addHandlers(this._header,this._headerEventHandlers);var a=null!=this._tab;a||(this._headerOuterWrapper=document.createElement("span"),this._headerInnerWrapper=document.createElement("span"),this._tab=document.createElement("span"),this._tab.id=t,this._header.parentNode.replaceChild(this._tab,this._header),this._tab.appendChild(this._headerOuterWrapper),this._headerOuterWrapper.appendChild(this._headerInnerWrapper),this._headerInnerWrapper.appendChild(this._header),Sys.UI.DomElement.addCssClass(this._headerOuterWrapper,"ajax__tab_outer"),Sys.UI.DomElement.addCssClass(this._headerInnerWrapper,"ajax__tab_inner"),Sys.UI.DomElement.addCssClass(this._header,"ajax__tab_tab"),Sys.UI.DomElement.addCssClass(this.get_element(),"ajax__tab_panel"))},dispose:function(){this._dynamicPopulateBehavior&&(this._dynamicPopulateBehavior.dispose(),this._dynamicPopulateBehavior=null),$common.removeHandlers(this._header,this._headerEventHandlers),this._enabled&&(this._isAttachedEnabledEvents?this._removeHandlersOnEnabled():this._isAttachedDisabledEvents&&$common.removeHandlers(this._header,{click:this._disabled_onclick})),Sys.Extended.UI.TabPanel.callBaseMethod(this,"dispose")},_addHandlersOnEnabled:function(){$addHandlers(this._header,this._enabledHeaderEventHandlers),this._isAttachedEnabledEvents=!0},_removeHandlersOnEnabled:function(){$common.removeHandlers(this._header,this._enabledHeaderEventHandlers)},populate:function(e){this._dynamicPopulateBehavior&&this._dynamicPopulateBehavior.get_element()!=this.get_element()&&(this._dynamicPopulateBehavior.dispose(),this._dynamicPopulateBehavior=null),!this._dynamicPopulateBehavior&&this._dynamicServiceMethod&&(this._dynamicPopulateBehavior=$create(Sys.Extended.UI.DynamicPopulateBehavior,{ContextKey:this._dynamicContextKey,ServicePath:this._dynamicServicePath,ServiceMethod:this._dynamicServiceMethod},{populated:this._dynamicPopulate_onpopulated$delegate},null,this.get_element())),this._dynamicPopulateBehavior&&(this.raise_populating(),this._dynamicPopulateBehavior.populate(e?e:this._dynamicContextKey))},_activate:function(){if(this._enabled)$common.setVisible(this.get_element(),!0),Sys.UI.DomElement.addCssClass(this._tab,"ajax__tab_active"),this.populate();else if(this._get_active()){var e=this._owner.getNearestTab(!1);e&&this._owner.set_activeTab(e)}this._owner.get_element().style.visibility="visible"},_deactivate:function(){$common.setVisible(this.get_element(),!1),Sys.UI.DomElement.removeCssClass(this._tab,"ajax__tab_active")},_show:function(){this._tab.style.display=""},_hide:function(){if(this._tab.style.display="none",this._get_active()){var e=this._owner.getNearestTab(!1);e&&this._owner.set_activeTab(e)}this._deactivate()},_makeEnabled:function(e){var t="__tab_"+this.get_element().id;if(e)this._isAttachedDisabledEvents&&($common.removeHandlers(this._header,{click:this._disabled_onclick}),this._isAttachedDisabledEvents=!1),this._addHandlersOnEnabled(),Sys.UI.DomElement.removeCssClass($get(t),"ajax__tab_disabled");else{if(this._isAttachedEnabledEvents&&(this._removeHandlersOnEnabled(),this._isAttachedEnabledEvents=!1),$addHandlers(this._header,{click:this._disabled_onclick}),this._isAttachedDisabledEvents=!0,this._get_active()){var a=this._owner.getNearestTab(!1);a&&this._owner.set_activeTab(a)}this._deactivate(),Sys.UI.DomElement.addCssClass($get(t),"ajax__tab_disabled")}},_setFocus:function(e){var t=$get("__tab_"+e.get_element().id);0!==t.offsetHeight&&t.focus()},_header_onclick:function(e){e.preventDefault(),this.raise_click(),this.get_owner().set_activeTab(this),this._setFocus(this)},_header_onmouseover:function(e){Sys.UI.DomElement.addCssClass(this._tab,"ajax__tab_hover")},_header_onmouseout:function(e){Sys.UI.DomElement.removeCssClass(this._tab,"ajax__tab_hover")},_header_onmousedown:function(e){e.preventDefault()},_oncancel:function(e){e.stopPropagation(),e.preventDefault()},_onkeydown:function(e){var t="which"in e?e.which:e.keyCode;if("39"==t&&!this._owner._useVerticalStripPlacement||"40"==t&&this._owner._useVerticalStripPlacement){e.preventDefault();var a=this._owner.getNextTab(!1);a&&(this._owner.set_activeTab(a),this._setFocus(a))}else if("37"==t&&!this._owner._useVerticalStripPlacement||"38"==t&&this._owner._useVerticalStripPlacement){e.preventDefault();var a=this._owner.getPreviousTab(!1);a&&(this._owner.set_activeTab(a),this._setFocus(a))}else if("35"==t){e.preventDefault();var a=this._owner.getLastTab(!1);a&&(this._owner.set_activeTab(a),this._setFocus(a))}else if("36"==t){e.preventDefault();var a=this._owner.getFirstTab(!1);a&&(this._owner.set_activeTab(a),this._setFocus(a))}},_dynamicPopulate_onpopulated:function(e,t){this.raise_populated()},_disabled_onclick:function(e){e.preventDefault()}},Sys.Extended.UI.TabPanel.registerClass("Sys.Extended.UI.TabPanel",Sys.UI.Control);