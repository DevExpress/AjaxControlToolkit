Type.registerNamespace("Sys.Extended.UI.Animation");Sys.Extended.UI.Animation.UpdatePanelAnimationBehavior=function(n){Sys.Extended.UI.Animation.UpdatePanelAnimationBehavior.initializeBase(this,[n]);this._onUpdating=new Sys.Extended.UI.Animation.GenericAnimationBehavior(n);this._onUpdated=new Sys.Extended.UI.Animation.GenericAnimationBehavior(n);this._postBackPending=null;this._pageLoadedHandler=null;this._alwaysFinishOnUpdatingAnimation=null;this._triggerControlsClientID=null;this._updatePanelID="";this._updatePanelClientID="";this._childrenAsTriggers=!1};Sys.Extended.UI.Animation.UpdatePanelAnimationBehavior.prototype={initialize:function(){Sys.Extended.UI.Animation.UpdatePanelAnimationBehavior.callBaseMethod(this,"initialize");var t=this.get_element(),n=document.createElement(t.tagName);t.parentNode.insertBefore(n,t);n.appendChild(t);Array.remove(t._behaviors,this);Array.remove(t._behaviors,this._onUpdating);Array.remove(t._behaviors,this._onUpdated);n._behaviors?(Array.add(n._behaviors,this),Array.add(n._behaviors,this._onUpdating),Array.add(n._behaviors,this._onUpdated)):n._behaviors=[this,this._onUpdating,this._onUpdated];this._element=this._onUpdating._element=this._onUpdated._element=n;this._onUpdating.initialize();this._onUpdated.initialize();this.registerPartialUpdateEvents();this._pageLoadedHandler=Function.createDelegate(this,this._pageLoaded);this._pageRequestManager.add_pageLoaded(this._pageLoadedHandler)},dispose:function(){this._pageRequestManager&&this._pageLoadedHandler&&(this._pageRequestManager.remove_pageLoaded(this._pageLoadedHandler),this._pageLoadedHandler=null);Sys.Extended.UI.Animation.UpdatePanelAnimationBehavior.callBaseMethod(this,"dispose")},_partialUpdateBeginRequest:function(n,t){Sys.Extended.UI.Animation.UpdatePanelAnimationBehavior.callBaseMethod(this,"_partialUpdateBeginRequest",[n,t]);this._postBackPending||(this._isTriggeredByTriggerControl(t._postBackElement.id)||this._isTriggeredByChildControl(n,t))&&(this._postBackPending=!0,this._onUpdated.quit(),this._onUpdating.play())},_isTriggeredByTriggerControl:function(n){return this._triggerControlsClientID.length&&this._triggerControlsClientID.indexOf(n)!=-1},_isTriggeredByChildControl:function(n,t){var i,r;return this.get_childrenAsTriggers()?t._updatePanelsToUpdate?t._updatePanelsToUpdate.indexOf(this.get_updatePanelID())===-1?!1:(i=n._updatePanelIDs.indexOf(this.get_updatePanelID()),!n._updatePanelHasChildrenAsTriggers[i])?!1:(r=document.getElementById(t._postBackElement.id),r.parentElement.id===this.get_updatePanelClientID()):!1:!1},_pageLoaded:function(n,t){var u,r,i;if(this._postBackPending)for(this._postBackPending=!1,u=this.get_element(),r=t.get_panelsUpdated(),i=0;i<r.length;i++)if(r[i].parentNode==u){this._alwaysFinishOnUpdatingAnimation?this._tryAndStopOnUpdating():(this._onUpdating.quit(),this._onUpdated.play());break}},_tryAndStopOnUpdating:function(){if(this._onUpdating.get_animation().get_isPlaying()){var n=this;window.setTimeout(function(){n._tryAndStopOnUpdating.apply(n)},200)}else this._onUpdating.quit(),this._onUpdated.play()},get_onUpdating:function(){return this._onUpdating.get_json()},set_onUpdating:function(n){this._onUpdating.set_json(n);this.raisePropertyChanged("onUpdating")},get_OnUpdating:function(){return Sys.Extended.Deprecated("get_OnUpdating()","get_onUpdating()"),this.get_onUpdating()},set_OnUpdating:function(){Sys.Extended.Deprecated("set_OnUpdating(value)","set_onUpdating(value)");this.set_onUpdating()},get_onUpdatingBehavior:function(){return this._onUpdating},get_OnUpdatingBehavior:function(){return Sys.Extended.Deprecated("get_OnUpdatingBehavior()","get_onUpdatingBehavior()"),this.get_onUpdatingBehavior()},get_onUpdated:function(){return this._onUpdated.get_json()},set_onUpdated:function(n){this._onUpdated.set_json(n);this.raisePropertyChanged("onUpdated")},get_OnUpdated:function(){return Sys.Extended.Deprecated("get_OnUpdated()","get_onUpdated()"),this.get_onUpdated()},set_OnUpdated:function(n){Sys.Extended.Deprecated("set_OnUpdated(value)","set_onUpdated(value)");this.set_onUpdated(n)},get_onUpdatedBehavior:function(){return this._onUpdated},get_OnUpdatedBehavior:function(){return Sys.Extended.Deprecated("get_OnUpdatedBehavior()","get_onUpdatedBehavior()"),this.get_onUpdatedBehavior()},get_alwaysFinishOnUpdatingAnimation:function(){return this._alwaysFinishOnUpdatingAnimation},set_alwaysFinishOnUpdatingAnimation:function(n){this._alwaysFinishOnUpdatingAnimation!=n&&(this._alwaysFinishOnUpdatingAnimation=n,this.raisePropertyChanged("alwaysFinishOnUpdatingAnimation"))},get_AlwaysFinishOnUpdatingAnimation:function(){return Sys.Extended.Deprecated("get_AlwaysFinishOnUpdatingAnimation()","get_alwaysFinishOnUpdatingAnimation()"),this.get_alwaysFinishOnUpdatingAnimation()},set_AlwaysFinishOnUpdatingAnimation:function(n){Sys.Extended.Deprecated("set_AlwaysFinishOnUpdatingAnimation(value)","set_alwaysFinishOnUpdatingAnimation(value)");this.set_alwaysFinishOnUpdatingAnimation(n)},get_triggerControlsClientID:function(){return this._triggerControlsClientID},set_triggerControlsClientID:function(n){this._triggerControlsClientID!=n&&(this._triggerControlsClientID=n,this.raisePropertyChanged("triggerControlsClientID"))},get_TriggerControlsClientID:function(){return Sys.Extended.Deprecated("get_TriggerControlsClientID()","get_triggerControlsClientID()"),this._triggerControlsClientID},set_TriggerControlsClientID:function(n){Sys.Extended.Deprecated("set_TriggerControlsClientID(value)","set_triggerControlsClientID(value)");this.set_triggerControlsClientID(n)},get_updatePanelID:function(){return this._updatePanelID},set_updatePanelID:function(n){this._updatePanelID!=n&&(this._updatePanelID=n,this.raisePropertyChanged("updatePanelID"))},get_updatePanelClientID:function(){return this._updatePanelClientID},set_updatePanelClientID:function(n){this._updatePanelClientID!=n&&(this._updatePanelClientID=n,this.raisePropertyChanged("updatePanelClientID"))},get_childrenAsTriggers:function(){return this._childrenAsTriggers},set_childrenAsTriggers:function(n){this._childrenAsTriggers!=n&&(this._childrenAsTriggers=n,this.raisePropertyChanged("childrenAsTriggers"))}};Sys.Extended.UI.Animation.UpdatePanelAnimationBehavior.registerClass("Sys.Extended.UI.Animation.UpdatePanelAnimationBehavior",Sys.Extended.UI.BehaviorBase);