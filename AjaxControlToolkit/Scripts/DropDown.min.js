Type.registerNamespace("Sys.Extended.UI"),Sys.Extended.UI.DropDownBehavior=function(e){Sys.Extended.UI.DropDownBehavior.initializeBase(this,[e]),this._dropDownControl=null,this._highlightBorderColor="#2353B2",this._highlightBackgroundColor="#FFF3DB",this._dropArrowBackgroundColor="#C6E1FF",this._dropArrowImageUrl=null,this._dropArrowWidth="16px",this._oldBackgroundColor=null,this._dropFrame=null,this._dropArrow=null,this._dropArrowImage=null,this._dropWrapper=null,this._isOpen=!1,this._isOver=!1,this._wasClicked=null,this._dropWrapperHoverBehavior=null,this._dropPopupPopupBehavior=null,this._onShowJson=null,this._onHideJson=null,this._dropDownControl$delegates={click:Function.createDelegate(this,this._dropDownControl_onclick),contextmenu:Function.createDelegate(this,this._dropDownControl_oncontextmenu)},this._dropFrame$delegates={click:Function.createDelegate(this,this._dropFrame_onclick),contextmenu:Function.createDelegate(this,this._dropFrame_oncontextmenu)},this._dropWrapper$delegates={click:Function.createDelegate(this,this._dropWrapper_onclick),contextmenu:Function.createDelegate(this,this._dropWrapper_oncontextmenu)},this._document$delegates={click:Function.createDelegate(this,this._document_onclick),contextmenu:Function.createDelegate(this,this._document_oncontextmenu)},this._dropWrapperHoverBehavior$delegates={hover:Function.createDelegate(this,this._dropWrapperHoverBehavior_onhover),unhover:Function.createDelegate(this,this._dropWrapperHoverBehavior_onunhover)}},Sys.Extended.UI.DropDownBehavior.prototype={initialize:function(){Sys.Extended.UI.DropDownBehavior.callBaseMethod(this,"initialize");var e=this.get_element(),o=e.parentNode;null==this._dropDownControl&&$common.createElementFromTemplate({parent:o,nameTable:this,name:"_dropDownControl",nodeName:"div",visible:!1,cssClasses:this._dropDownControl?null:["ajax__dropdown_panel"],properties:{__GENERATED:!0}}),$addHandlers(this._dropDownControl,this._dropDownControl$delegates);var r={};this._dropArrowImageUrl&&(r.src=this._dropArrowImageUrl),$common.createElementFromTemplate({parent:o,nameTable:this,name:"_dropFrame",nodeName:"span",visible:!1,children:[{name:"_dropFrameTop",nodeName:"div",cssClasses:["ajax__dropdown_frame_line"]},{name:"_dropFrameRight",nodeName:"div",cssClasses:["ajax__dropdown_frame_line"]},{name:"_dropFrameBottom",nodeName:"div",cssClasses:["ajax__dropdown_frame_line"]},{name:"_dropFrameLeft",nodeName:"div",cssClasses:["ajax__dropdown_frame_line"]},{name:"_dropArrow",nodeName:"div",cssClasses:this._dropArrowImageUrl?["ajax__dropdown_arrow"]:["ajax__dropdown_arrow","ajax__dropdown_arrow_image"],properties:{style:{width:this._dropArrowWidth,backgroundColor:this._dropArrowBackgroundColor}},events:this._dropFrame$delegates,children:[{name:"_dropArrowWrapper",nodeName:"div",visible:!!this._dropArrowImageUrl,cssClasses:["ajax__dropdown_arrow_wrapper"],children:[{name:"_dropArrowImage",nodeName:"img",properties:r}]}]}]}),$common.createElementFromTemplate({parent:null,nameTable:this,name:"_dropWrapper",nodeName:"span",properties:{id:e.id+"_dropWrapper",style:{cursor:"default"}},events:this._dropWrapper$delegates,content:e}),this._dropPopupPopupBehavior=$create(Sys.Extended.UI.PopupBehavior,{positioningMode:Sys.Extended.UI.PositioningMode.BottomRight,parentElement:e,y:-1},null,null,this._dropDownControl),this._onShowJson&&this._dropPopupPopupBehavior.set_onShow(this._onShowJson),this._onHideJson&&this._dropPopupPopupBehavior.set_onHide(this._onHideJson),this._dropWrapperHoverBehavior=$create(Sys.Extended.UI.HoverBehavior,{hoverElement:this._dropFrame},this._dropWrapperHoverBehavior$delegates,null,this._dropWrapper),$addHandlers(document,this._document$delegates)},dispose:function(){var e=this.get_element();this._isOpen&&(this.hide(),this.unhover(),this._isOpen=!1),$common.removeHandlers(document,this._document$delegates),this._onShowJson=null,this._onHideJson=null,this._dropPopupPopupBehavior&&(this._dropPopupPopupBehavior.dispose(),this._dropPopupPopupBehavior=null),this._dropWrapperHoverBehavior&&(this._dropWrapperHoverBehavior.dispose(),this._dropWrapperHoverBehavior=null),this._dropFrame&&($common.removeElement(this._dropFrame),this._dropFrame=null,this._dropFrameTop=null,this._dropFrameRight=null,this._dropFrameBottom=null,this._dropFrameLeft=null,this._dropArrow=null,this._dropArrowWrapper=null,this._dropArrowImage=null),this._dropWrapper&&($common.removeHandlers(this._dropWrapper,this._dropWrapper$delegates),$common.unwrapElement(e,this._dropWrapper),this._dropWrapper=null),this._dropDownControl&&($common.removeHandlers(this._dropDownControl,this._dropDownControl$delegates),this._dropDownControl.__GENERATED&&$common.removeElement(this._dropDownControl),this._dropDownControl=null),Sys.Extended.UI.DropDownBehavior.callBaseMethod(this,"dispose")},hover:function(){var e=this.get_element();if(!this._isOver){this._isOver=!0,this.raiseHoverOver(Sys.EventArgs.Empty);var o=$common.getBounds(e);$common.setLocation(this._dropFrame,{x:0,y:0}),$common.setVisible(this._dropFrame,!0);var r=$common.getLocation(this._dropFrame);$common.setVisible(this._dropFrame,!1),o.x-=r.x,o.y-=r.y,$common.setBounds(this._dropFrameTop,{x:o.x,y:o.y,width:o.width,height:1}),$common.setBounds(this._dropFrameRight,{x:o.x+o.width-1,y:o.y,width:1,height:o.height}),$common.setBounds(this._dropFrameBottom,{x:o.x,y:o.y+o.height-1,width:o.width,height:1}),$common.setBounds(this._dropFrameLeft,{x:o.x,y:o.y,width:1,height:o.height}),$common.setBounds(this._dropArrow,{x:o.x+o.width-17,y:o.y+1,width:16,height:o.height-2}),this._dropFrameTop.style.backgroundColor=this._highlightBorderColor,this._dropFrameRight.style.backgroundColor=this._highlightBorderColor,this._dropFrameBottom.style.backgroundColor=this._highlightBorderColor,this._dropFrameLeft.style.backgroundColor=this._highlightBorderColor,$common.setVisible(this._dropFrame,!0),this._oldBackgroundColor||(this._oldBackgroundColor=$common.getCurrentStyle(e,"backgroundColor"));var t=/\d{0,3},\s*\d{0,3},\s*\d{0,3}/;t.test(this._highlightBackgroundColor)?e.style.backgroundColor="rgb("+this._highlightBackgroundColor+")":e.style.backgroundColor=this._highlightBackgroundColor}},unhover:function(){var e=this.get_element();!this._isOver&&this._isOpen||(this._isOver=!1,this._isOpen||($common.setVisible(this._dropFrame,!1),this._oldBackgroundColor?(e.style.backgroundColor=this._oldBackgroundColor,this._oldBackgroundColor=null):e.style.backgroundColor="transparent"),this.raise_hoverOut(Sys.EventArgs.Empty))},show:function(){if(!this._isOpen){this.hover();var e=new Sys.CancelEventArgs;if(this.raise_showing(e),this.raise_popup(e),e.get_cancel())return;this._isOpen=!0,this.populate(),(!this._dynamicPopulateBehavior||this._dynamicPopulateBehavior._populated&&this._cacheDynamicResults)&&this._showPopup()}},_showPopup:function(){this._dropPopupPopupBehavior.show(),this.raise_shown(Sys.EventArgs.Empty)},hide:function(){if(this._isOpen){var e=new Sys.CancelEventArgs;if(this.raise_hiding(e),e.get_cancel())return;this._isOpen=!1,this._dropPopupPopupBehavior.hide(),this.raise_hidden(Sys.EventArgs.Empty)}},_dropWrapperHoverBehavior_onhover:function(e,o){this.hover()},_dropWrapperHoverBehavior_onunhover:function(e,o){this.unhover()},_dropWrapper_onclick:function(e){"A"!=e.target.tagName&&(this._isOpen?this.hide():this.show(),this._wasClicked=!0)},_dropWrapper_oncontextmenu:function(e){"A"!=e.target.tagName&&(this._wasClicked=!0,e.preventDefault(),this.show())},_dropFrame_onclick:function(e){this._isOpen?this.hide():this.show(),this._wasClicked=!0},_dropFrame_oncontextmenu:function(e){this._wasClicked=!0,e.preventDefault(),this.show()},_dropDownControl_onclick:function(e){},_dropDownControl_oncontextmenu:function(e){this._wasClicked=!0,e.preventDefault()},_document_onclick:function(e){this._wasClicked?this._wasClicked=!1:this._isOpen&&(this.hide(),this.unhover())},_document_oncontextmenu:function(e){this._wasClicked?this._wasClicked=!1:this._isOpen&&(this.hide(),this.unhover())},_onPopulated:function(e,o){Sys.Extended.UI.DropDownBehavior.callBaseMethod(this,"_onPopulated",[e,o]),this._isOpen&&this._showPopup()},get_onShow:function(){return this._dropPopupPopupBehavior?this._dropPopupPopupBehavior.get_onShow():this._onShowJson},set_onShow:function(e){this._dropPopupPopupBehavior?this._dropPopupPopupBehavior.set_onShow(e):this._onShowJson=e,this.raisePropertyChanged("onShow")},get_onShowBehavior:function(){return this._dropPopupPopupBehavior?this._dropPopupPopupBehavior.get_onShowBehavior():null},onShow:function(){this._dropPopupPopupBehavior&&this._dropPopupPopupBehavior.onShow()},get_onHide:function(){return this._dropPopupPopupBehavior?this._dropPopupPopupBehavior.get_onHide():this._onHideJson},set_onHide:function(e){this._dropPopupPopupBehavior?this._dropPopupPopupBehavior.set_onHide(e):this._onHideJson=e,this.raisePropertyChanged("onHide")},get_onHideBehavior:function(){return this._dropPopupPopupBehavior?this._dropPopupPopupBehavior.get_onHideBehavior():null},onHide:function(){this._dropPopupPopupBehavior&&this._dropPopupPopupBehavior.onHide()},get_dropDownControl:function(){return this._dropDownControl},set_dropDownControl:function(e){this._dropDownControl!=e&&(this._dropDownControl=e,this.raisePropertyChanged("dropDownControl"))},get_highlightBorderColor:function(){return this._highlightBorderColor},set_highlightBorderColor:function(e){this._highlightBorderColor!=e&&(this._highlightBorderColor=e,this.raisePropertyChanged("highlightBorderColor"))},get_highlightBackgroundColor:function(){return this._highlightBackgroundColor},set_highlightBackgroundColor:function(e){this._highlightBackgroundColor!=e&&(this._highlightBackgroundColor=e,this.get_isInitialized()&&this._isOpen&&(this._dropWrapper.style.backgroundColor=e),this.raisePropertyChanged("highlightBackgroundColor"))},get_dropArrowBackgroundColor:function(){return this._dropArrowBackgroundColor},set_dropArrowBackgroundColor:function(e){this._dropArrowBackgroundColor!=e&&(this._dropArrowBackgroundColor=e,this.get_isInitialized()&&(this._dropArrow.style.backgroundColor=e),this.raisePropertyChanged("dropArrowBackgroundColor"))},get_dropArrowImageUrl:function(){return this._dropArrowImageUrl},set_dropArrowImageUrl:function(e){this._dropArrowImageUrl!=e&&(this._dropArrowImageUrl=e,this.get_isInitialized()&&(this._dropArrow.className&&(this._dropArrow.className="",this._dropArrowWrapper.style.display="block"),this._dropArrowImage.src=e),this.raisePropertyChanged("dropArrowImageUrl"))},get_dropArrowWidth:function(){return this._dropArrowWidth},set_dropArrowWidth:function(e){this._dropArrowWidth!=e&&(this._dropArrowWidth=e,this.get_isInitialized()&&(this._dropArrow.style.width=e),this.raisePropertyChanged("dropArrowWidth"))},get_isOver:function(){return this._isOver},get_isOpen:function(){return this._isOpen},add_showing:function(e){this.get_events().addHandler("showing",e)},remove_showing:function(e){this.get_events().removeHandler("showing",e)},raise_showing:function(e){var o=this.get_events().getHandler("showing");o&&o(this,e)},raiseShowing:function(e){Sys.Extended.Deprecated("raiseShowing(eventArgs)","raise_showing(eventArgs)"),this.raise_showing(e)},add_shown:function(e){this.get_events().addHandler("shown",e)},remove_shown:function(e){this.get_events().removeHandler("shown",e)},raise_shown:function(e){var o=this.get_events().getHandler("shown");o&&o(this,e)},raiseShown:function(e){Sys.Extended.Deprecated("raiseShown(eventArgs)","raise_shown(eventArgs)"),this.raise_shown(e)},add_popup:function(e){this.get_events().addHandler("popup",e)},remove_popup:function(e){this.get_events().removeHandler("popup",e)},raise_popup:function(e){var o=this.get_events().getHandler("popup");o&&o(this,e)},raisePopup:function(e){Sys.Extended.Deprecated("raisePopup(eventArgs)","raise_popup(eventArgs)"),this.raise_popup(e)},add_hiding:function(e){this.get_events().addHandler("hiding",e)},remove_hiding:function(e){this.get_events().removeHandler("hiding",e)},raise_hiding:function(e){var o=this.get_events().getHandler("hiding");o&&o(this,e)},raiseHiding:function(e){Sys.Extended.Deprecated("raiseHiding(eventArgs)","raise_hiding(eventArgs)"),this.raise_hiding(e)},add_hidden:function(e){this.get_events().addHandler("hidden",e)},remove_hidden:function(e){this.get_events().removeHandler("hidden",e)},raise_hidden:function(e){var o=this.get_events().getHandler("hidden");o&&o(this,e)},raiseHidden:function(e){Sys.Extended.Deprecated("raiseHidden(eventArgs)","raise_hidden(eventArgs)"),this.raise_hidden(e)},add_hoverOver:function(e){this.get_events().addHandler("hoverOver",e)},remove_hoverOver:function(e){this.get_events().removeHandler("hoverOver",e)},raise_hoverOver:function(e){var o=this.get_events().getHandler("hoverOver");o&&o(this,e)},raiseHoverOver:function(e){Sys.Extended.Deprecated("raiseHoverOver(eventArgs)","raise_hoverOver(eventArgs)"),this.raise_hoverOver(e)},add_hoverOut:function(e){this.get_events().addHandler("hoverOut",e)},remove_hoverOut:function(e){this.get_events().removeHandler("hoverOut",e)},raise_hoverOut:function(e){var o=this.get_events().getHandler("hoverOut");o&&o(this,e)},raiseHoverOut:function(e){Sys.Extended.Deprecated("raiseHoverOut(eventArgs)","raise_hoverOut(eventArgs)"),this.raise_hoverOut(e)}},Sys.Extended.UI.DropDownBehavior.registerClass("Sys.Extended.UI.DropDownBehavior",Sys.Extended.UI.DynamicPopulateBehaviorBase);